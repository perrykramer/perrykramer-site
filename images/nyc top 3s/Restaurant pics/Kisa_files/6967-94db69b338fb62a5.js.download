(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6967],{32470:function(e,t,n){"use strict";var i=n(62272),a=n(84814),r=n(41664),s=n.n(r),o=n(5276),l=n(34155),c=n(91647),d=n(33562),u=n(30923),m=n(10561);const p=(0,a.memo)((e=>{let{adLocation:t,city:n,widgetAd:a,isAdSuppressed:r=!1,className:p,style:v,...x}=e;var g,h,y,f,b,j;const k=(0,u.Z)(),C=(0,d.Z)(c.RJ),w="/".concat(n),_=!!a||r,{data:P,error:Z,loading:T}=(0,m.SR_)({variables:{cityPath:w,adLocation:t},skip:_}),N=null==P||null===(h=P.widgetAdCollection)||void 0===h||null===(g=h.items)||void 0===g?void 0:g.find((e=>{var t,n,i;return(null==e||null===(i=e.marketCollection)||void 0===i||null===(n=i.items[0])||void 0===n||null===(t=n.citySection)||void 0===t?void 0:t.path)===w})),S=!!a&&!N&&!T||r,{data:I,error:L}=(0,m.hsQ)({variables:{cityName:"All",adLocation:t},skip:S}),R=null==I||null===(y=I.widgetAdCollection)||void 0===y?void 0:y.items[0];var A;const E=null!==(A=null!=a?a:N)&&void 0!==A?A:R,B=(0,o.ZP)({threshold:.5,unobserveOnEnter:!0,onEnter:()=>{!E||Z||L||k("Content Viewed",null,{adId:E.sys.id,cmpName:E.name,cmpType:"Ad"})}});return!E||r||(C?!E.imageSmall&&!E.image:!E.image)||Z&&L?null:(0,i.jsx)(s(),{ref:B.observe,"data-testid":"chaseAdBanner","data-custom-link-analytics":"true",role:"link","aria-label":"Chase advertisement link","aria-description":"Click to view Chase advertisement",href:E.clickThroughUrl||"",id:E.sys.id,target:"_blank",rel:"noopener noreferrer nofollow",onClick:e=>{return t=e.currentTarget,void k("Exit Link Clicked",null,{url:t.href,adId:t.id});var t},children:(0,i.jsx)(l.Z,{placeholder:"empty",src:C?(null==E||null===(f=E.imageSmall)||void 0===f?void 0:f.url)||(null==E||null===(b=E.image)||void 0===b?void 0:b.url):null==E||null===(j=E.image)||void 0===j?void 0:j.url,alt:"".concat(null==E?void 0:E.name),className:p,style:v,...x})})}));t.Z=p},51391:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});const i=e=>{var t;return e&&(null===(t=e.tags)||void 0===t?void 0:t.some((e=>e&&"widgetAdSuppress"===e.id)))||!1}},95198:function(e,t,n){"use strict";var i=n(62272),a=n(84814),r=n(9008),s=n.n(r),o=n(11163),l=n(12433),c=n(29844);const d=e=>{let{post:t}=e;const n=(0,o.useRouter)(),a=(0,c.PJ)(n.asPath),r=(0,l.jm)(n.pathname,n.asPath,a,null,t);return(0,i.jsxs)(s(),{children:[(0,i.jsx)("meta",{name:"parsely-link",content:r.canonicalUrl}),(0,i.jsx)("meta",{name:"parsely-type",content:r.type}),r.title&&(0,i.jsx)("meta",{name:"parsely-title",content:r.title}),r.imageUrl&&(0,i.jsx)("meta",{name:"parsely-image-url",content:r.imageUrl}),(0,i.jsx)("meta",{name:"parsely-tags",content:r.parselyTags.join(",")}),r.section&&(0,i.jsx)("meta",{name:"parsely-section",content:r.section}),(0,l.JI)(r)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"parsely-pub-date",content:r.publicationDate}),r.authors.map((e=>(0,i.jsx)("meta",{name:"parsely-author",content:e},e)))]})]})};t.Z=(0,a.memo)(d)},75526:function(e,t,n){"use strict";var i=n(62272),a=n(47345),r=n(59489),s=n(56803),o=n(88911),l=n(39332),c=n(35532),d=n(10636),u=n(75396),m=n(30923),p=n(80634),v=n.n(p);t.Z=e=>{let{currentPage:t,...n}=e;const p=(0,m.Z)(),x=(0,l.usePathname)(),{currentCity:g}=(0,u.Z)(),h=x?x.split("/"):[],y=(e=>{switch(e){case"reviews":return"reviews";case"guides":return"guides";default:return""}})(h[2]);return(0,i.jsxs)(a.a,{my:2,mt:3,whiteSpace:"nowrap",color:n.color||"gray50",listProps:{...d.cG,px:0,pt:0,my:0,overflow:"hidden"},...n,children:[(0,i.jsx)(r.g,{children:(0,i.jsx)(s.A,{as:c.Z,_hover:{color:"primary"},_focusVisible:{color:"primary"},variant:"unstyled",href:"/".concat(h[1]),onClick:()=>{p("City Clicked",null,{event_location:"Breadcrumbs"})},"data-testid":"breadcrumb-city",children:(0,i.jsx)(o.x,{as:"span",variant:"caption",children:null==g?void 0:g.displayName})})}),h.length>2&&(0,i.jsx)(r.g,{children:(0,i.jsx)(s.A,{as:c.Z,_hover:{color:"primary"},_focusVisible:{color:"primary"},variant:"unstyled",href:"/".concat(h[1],"/").concat(h[2]),onClick:()=>{p("Navigation Clicked",null,{event_location:"Breadcrumbs",item_name:v()(y)})},"data-testid":"breadcrumb-path-type",children:(0,i.jsx)(o.x,{as:"span",variant:"caption",children:y})})}),(0,i.jsx)(r.g,{isCurrentPage:!0,overflow:"hidden",children:(0,i.jsx)(s.A,{as:"span","data-testid":"breadcrumb-title",color:n.color||"gray100",flexShrink:"1",overflow:"hidden",textOverflow:"ellipsis",children:t})})]})}},4274:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(62272),a=n(84814),r=n(68872),s=n(23100),o=n(20185),l=n(90512),c=n(67320),d=n(75001),u=n(19385),m=n.n(u);const p=e=>{let{marker:t,onClick:n,rankNumber:r}=e;var s;const[o]=(0,a.useState)(!1);return(0,i.jsx)("div",{className:m().pinContainer,title:"".concat(t.title),onClick:()=>null==n?void 0:n(t),"data-testid":"map-pinContainer",children:(0,i.jsxs)("div",{className:(0,l.Z)({[m().pinBase]:!0,[m().empty]:!t.rating&&!o&&!r,[m().bookmarkEmpty]:!t.rating&&o&&!r,[m().bookmark]:t.rating&&o&&!r,[m().ranked]:r}),children:[r,!r&&(null==t?void 0:t.rating)&&(null==t?void 0:t.rating)>.1?null===(s=t.rating)||void 0===s?void 0:s.toFixed(1):null,o&&!r&&(0,i.jsx)(c.pl,{})]})})},v=(e,t,n,a,r,s)=>e.map(((e,l)=>{var c;const u=n?null!==(c=(0,d.vq)(a,e.id))&&void 0!==c?c:l+1:null,m={data:{id:e.id,rating:e.rating,title:e.title,rankNumber:u},accessibilityLabel:e.title,size:{width:40,height:37}},v=new t.Coordinate(e.location.latitude,e.location.longitude),x=new t.Annotation(v,(()=>((e,t,n,a)=>{const r=document.createElement("div");return(0,o.createRoot)(r).render((0,i.jsx)(p,{marker:e,onClick:n,userId:a,rankNumber:t})),r})(e,u,r,s)),m);return x}));var x=n(3912),g=n(16505),h=n(84290);var y=e=>{let{mapkit:t,markers:n,onMarkerSelect:o,onZoom:l,selectedMarkerId:c,hoveredReviewId:d,userId:u,isForceRender:m,isRankedGuide:p=!1,...y}=e;const[f,b]=(0,a.useState)(),j=(0,a.useRef)(null),[k,C]=(0,a.useState)(null),{guide:w}=(0,g.ae)(),{setFirstInteraction:_,map:P}=(0,h.LQ)(),{rankedSpots:Z}=w,{activeMarker:T,firstInteraction:N}=P,S=(0,r.D)(c),I=(0,a.useRef)(),L=(0,a.useRef)(),{setIsMapView:R}=(0,x.J)();return(0,a.useEffect)((()=>{if(t&&j.current){const e=new t.Map(j.current);b(e)}}),[t,j]),(0,a.useEffect)((()=>{f&&(f.showsMapTypeControl=!1,f.showsCompass=t.FeatureVisibility.Hidden,f.pointOfInterestFilter=t.PointOfInterestFilter.including([t.PointOfInterestCategory.Museum,t.PointOfInterestCategory.Park,t.PointOfInterestCategory.PublicTransport,t.PointOfInterestCategory.Stadium,t.PointOfInterestCategory.Theater]),R(!0))}),[f,t]),(0,a.useEffect)((()=>(f&&l&&f.addEventListener("zoom-start",l),()=>{f&&l&&f.removeEventListener("zoom-start",l)})),[f,t,l]),(0,a.useEffect)((()=>{if(f){if(f.annotations.length>0&&f.removeAnnotations(f.annotations),!n)return;const e=v(n,t,p,Z,o,u);f.addAnnotations(e),f.showItems(e),C(f.region)}}),[n,t,f,Z]),(0,a.useEffect)((()=>{f&&!T&&k&&f.setRegionAnimated(k)}),[T]),(0,a.useEffect)((()=>{var e;if(!f||1!==(null==n?void 0:n.length))return;const i=n[0];if(!i)return;const{latitude:a,longitude:r}=i.location,s=new t.Coordinate(a,r);if(!(null===(e=f.region)||void 0===e?void 0:e.span))return;const{latitudeDelta:o,longitudeDelta:l}=f.region.span,c=new t.CoordinateSpan(3*o,3*l),d=new t.CoordinateRegion(s,c);f.setRegionAnimated(d)}),[f,n]),(0,a.useEffect)((()=>{if(f&&T){const e=T.data.location,n=new t.Coordinate(e.latitude,e.longitude),i=N?2:1,a=f.region.span,r=new t.CoordinateSpan(a.latitudeDelta/i,a.longitudeDelta/i),s=new t.CoordinateRegion(n,r);f.setRegionAnimated(s),N&&_(!1)}}),[f,T,N]),(0,a.useEffect)((()=>{if(f&&t){var e,n,i,a,r;if(!c)return null===(e=I.current)||void 0===e||e.classList.remove("active"),void(null===(n=I.current)||void 0===n||n.setAttribute("data-testid","map-pinContainer"));if(c!==S)null===(i=I.current)||void 0===i||i.classList.remove("active"),null===(a=I.current)||void 0===a||a.classList.add("visited"),null===(r=I.current)||void 0===r||r.setAttribute("data-testid","map-pinContainer");const t=f.annotations.find((e=>e.data.id===c));var s,o;if(t)t.selected=!0,I.current=t.element.lastElementChild,null===(s=I.current)||void 0===s||s.classList.add("active"),null===(o=I.current)||void 0===o||o.setAttribute("data-testid","map-pinContainer-active")}}),[c,f,t]),(0,a.useEffect)((()=>{if(f&&t){var e,n;if(null===(e=L.current)||void 0===e||e.classList.remove("active"),null===(n=L.current)||void 0===n||n.removeAttribute("data-testid"),!d)return;const t=f.annotations.find((e=>e.data.id===d));var i,a;if(t)t.selected=!0,L.current=t.element.lastElementChild,null===(i=L.current)||void 0===i||i.classList.add("active"),null===(a=L.current)||void 0===a||a.setAttribute("data-testid","map-pinContainer-active")}}),[d,f,t]),(0,a.useEffect)((()=>()=>{setTimeout((()=>null==f?void 0:f.destroy()),3e3),R(!1)}),[f]),(0,a.useEffect)((()=>{m&&f&&setTimeout((()=>{f&&f.setCameraDistanceAnimated(f.cameraDistance+100)}),300)}),[m,f]),(0,i.jsx)(s.xu,{width:"100%",height:"100%",...y,ref:j})},f=n(47162);var b=e=>{let{isLoading:t,isRankedGuide:n=!1,...r}=e;const{mapkit:s}=(0,a.useContext)(f.L);return(0,i.jsx)(i.Fragment,{children:s&&!t&&(0,i.jsx)(y,{...r,mapkit:s,isRankedGuide:n})})}},18674:function(e,t,n){"use strict";n.d(t,{U:function(){return h}});var i=n(62272),a=n(39849),r=n(54641),s=n(23100),o=n(14418),l=n(88911),c=n(89255),d=n(41664),u=n.n(d),m=n(69323),p=n.n(m),v=n(30923),x=n(64741),g=n(1526);const h=e=>e.some((e=>"Team Infatuation"===e.name))&&1===e.length;t.Z=e=>{let{post:t,columns:n=3}=e;var d;const m=(0,v.Z)(),h="windows"===(0,x.FS)()?200:96,y=(null===(d=t.contributorCollection)||void 0===d?void 0:d.items)?[...t.contributorCollection.items].sort(((e,t)=>Number(!(null==e?void 0:e.shortBiography))-Number(!(null==t?void 0:t.shortBiography)))):[];return(0,i.jsx)(a.M,{columns:{base:1,md:n},spacingX:6,spacingY:{base:0,md:8},as:"section",children:null==y?void 0:y.map(((e,n)=>{var a,d,v;if("Team Infatuation"===(null==e?void 0:e.name))return null;const x=(0,g.Oe)(e,"avatar");return(0,i.jsx)(u(),{"aria-label":"".concat(null==e||null===(a=e.slug)||void 0===a?void 0:a.name),href:"/contributor/".concat(null==e||null===(d=e.slug)||void 0===d?void 0:d.name),className:p().writtenByCard,"data-testid":"writtenByCard",onClick:i=>{var a,r;i.stopPropagation(),a=n+1,r=null==e?void 0:e.name,m("Contributor Clicked",t,{cmpName:"Written By",cmpType:"Written By",itemPosition:a,postContributor:[r]})},children:(0,i.jsxs)(r.U,{spacing:2,alignItems:"start",as:"article",children:[(0,i.jsx)(s.xu,{children:(0,i.jsx)(c.Z,{className:p().avatar,url:x.src,name:null==e?void 0:e.name,width:h,height:h},null==e||null===(v=e.sys)||void 0===v?void 0:v.id)}),(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(o.X,{as:"h4",variant:"h4",className:p().title,children:null==e?void 0:e.name}),(0,i.jsx)(l.x,{variant:"caption",children:null==e?void 0:e.title}),(0,i.jsx)(s.xu,{mt:2}),(0,i.jsx)(l.x,{"data-testid":"short-bio",variant:"paragraphRegular",children:null==e?void 0:e.shortBiography})]})]})},null==e?void 0:e.sys.id)}))})}},53022:function(e,t,n){"use strict";var i=n(44947);t.Z=()=>{const[e,t]=(0,i.Z)("fypRecentViewed",[],[],"localStorage");return{recentPosts:e,storePostToRecent:e=>{e&&t((t=>{const n=(t=Object.values(t)).filter((t=>{var n,i;return(null==t||null===(n=t.sys)||void 0===n?void 0:n.id)!==(null==e||null===(i=e.sys)||void 0===i?void 0:i.id)}));return n.length>=4&&n.pop(),n.unshift(e),n}))}}}},66439:function(e,t,n){"use strict";var i=n(84814),a=n(14413),r=n(89782),s=n(69650),o=n(30923);t.Z=()=>{var e;const{user:t,logout:n}=(0,a.aF)(),{details:l}=t,c=(0,o.Z)(),d=null==l?void 0:l.uid,{bookmarkState:u,setBookmarkLists:m}=(0,r.a)();(0,i.useEffect)((()=>{var e;d&&!(null===(e=u.userBookmarkLists)||void 0===e?void 0:e.userId)&&t.loggedIn&&(0,s.U)(d,m,n,c)}),[d,null===(e=u.userBookmarkLists)||void 0===e?void 0:e.userId,t.loggedIn])}},76967:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Be},default:function(){return De}});var i=n(62272),a=n(84814),r=n(9008),s=n.n(r),o=n(45363),l=n(11163),c=n(36554),d=n(31224),u=n(54111),m=n(75526),p=n(49827),v=n(29844),x=n(1526),g=n(95738),h=n(14372),y=n(6372),f=n(95198),b=n(90512),j=n(41664),k=n.n(j),C=n(5276),w=n(14418),_=n(59371),P=n(56425),Z=n(68680),T=n(32470),N=n(27175),S=n(18674),I=n(23100),L=n(47162),R=n(4274),A=n(96152),E=n(30923),B=n(75001);var D=e=>{const t=(0,E.Z)(),{review:n}=e,a=(0,B.$d)(n,{showRating:!0});return a?(0,i.jsxs)(I.xu,{my:{base:8,md:10},children:[(0,i.jsx)(w.X,{variant:"h3",pb:4,children:"Location"}),(0,i.jsx)(A.Z,{...e,itemPosition:1,eventLocation:"Venue Location",hasIcon:!1,linkButtonProps:{letterSpacing:"unset",textTransform:"unset"},textProps:{variant:"primary"}}),(0,i.jsx)(I.xu,{position:"relative",height:{base:"211px",md:"379px"},mt:2,children:(0,i.jsx)(L.c,{isSingleMarkerMap:!0,children:(0,i.jsx)(R.Z,{isLoading:!1,markers:[a],onMarkerSelect:()=>{t("Map Pin Clicked",n)},onZoom:()=>{t("Map Action Clicked",n,{event_label:"Zoom"})}})})})]}):null},M=n(204),V=n(68526);var F=e=>{let{review:t,cmpName:n,cmpType:a,...r}=e;const{venue:s,rating:o}=t;return(0,i.jsxs)(M.k,{flexDir:{base:"row",md:"column"},alignItems:{base:"center",md:"flex-start"},gap:2,...r,children:[o&&(0,i.jsx)(V.Z,{rating:o,cursor:"auto",variant:"default"}),(0,i.jsx)(M.k,{alignItems:"center",flex:1,justifyContent:"space-between",gap:2,children:(0,i.jsx)(w.X,{as:"h1",variant:"h2",className:"flatplan_venue-heading",children:null==s?void 0:s.name})})]})},O=n(47159),z=n(95864),W=n(67320),G=n(65313),U=n(88641),X=n(57511),Y=n(12433),H=n(39207),q=n(42334),J=n(9083),Q=n(22593),$=n.n(Q);var K=e=>{let{review:t,type:n="menu",cmpName:a,cmpType:r,eventLocation:s,hasSaveLast:o,buttonProps:l,...c}=e;const d=(0,E.Z)(),{setUserEngagement:u}=(0,H.f)(),m=(0,q.Z)({postId:t.sys.id})===J.C.SAVED,{venue:p}=t,{url:x,instagram:g,name:h,street:y,city:f,state:b,postalCode:j,phone:k,reservation:C}=p||{},w={streetName:y,city:f,state:b,postalCode:j},{reservationUrl:_,reservationPlatform:P}=C||{},Z=(0,X.D9)(h,(0,v.Ed)(w)),T=(0,X.aq)(g),N={itemPosition:1,cmpName:a,cmpType:r,eventLocation:s},S=()=>{u("venue_engagement"),d("Venue Directions Clicked",t,{...N,url:Z})},I=()=>{switch(P){case"TOCK":return(0,i.jsx)(W.tk,{boxSize:6,"data-testid":"reservation-icon-tock"});case"OPENTABLE":return(0,i.jsx)(W.W9,{boxSize:6,"data-testid":"reservation-icon-ot"});default:return(0,i.jsx)(W.Qu,{boxSize:6,fill:U.Z.gray50,"data-testid":"reservation-icon"})}},L=[{type:"reservation",label:"Reserve a Table ",icon:(0,i.jsx)(I,{}),href:_,onClick:()=>{u("venue_engagement"),d("Venue Reservations Clicked",t,{...N,url:_})}},{type:"website",label:"Website",icon:(0,i.jsx)(W.n9,{fill:U.Z.gray50}),href:x,onClick:()=>{u("venue_engagement"),(0,Y.ms)("Restaurant Website"),d("Venue Website Clicked",t,{...N,url:x})}},{type:"directions",label:"Directions",icon:(0,i.jsx)(W.oW,{boxSize:6,fill:U.Z.gray50}),href:Z,onClick:S},{type:"instagram",label:"Instagram",icon:(0,i.jsx)(G.yu,{className:$().instagramIcon,fill:U.Z.gray50}),href:T,onClick:()=>{u("venue_engagement"),d("Venue Social Clicked",t,{...N,url:T,eventLabel:"instagram"})}},{type:"phoneNumber",label:k,icon:(0,i.jsx)(W.qW,{boxSize:6,fill:U.Z.gray50}),href:k?"tel:".concat(k):void 0,onClick:()=>{u("venue_engagement"),d("Venue Phone Number Clicked",t,{...N,url:"tel:".concat(k)})}}],R={type:"save",label:m?"Saved":"Save To A List",icon:(0,i.jsx)(W.pl,{boxSize:6,color:U.Z.white,stroke:m?U.Z.blue50:U.Z.gray100,fill:m?U.Z.blue50:"transparent"}),href:"",onClick:S},A=o?[...L,R]:[L[0],R,...L.slice(1)];return(0,i.jsx)(M.k,{flexDir:"menu"===n?"column":"row",alignItems:"menu"===n?"flex-start":"center",gap:2,css:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},WebkitOverflowScrolling:"touch"},onClick:e=>e.stopPropagation(),...c,children:A.map((e=>(e=>{const{type:c,label:u,href:p,icon:v,onClick:x}=e;return"save"===c?(0,i.jsx)(z.Z,{post:t,eventLocation:s,itemPosition:1,cmpName:a,cmpType:r,children:e=>{let{handleBookmarkClick:t}=e;return(0,i.jsx)(O.dI,{className:"cta-button","data-testid":"venue-action-".concat(n,"-item-").concat(c),leftIcon:v,onClick:t,border:"1px solid ".concat(m?U.Z.blue50:U.Z.gray10),_last:{mr:o?6:0},children:u},u)}},u):p?(0,i.jsx)(O.dI,{className:"cta-button","data-testid":"venue-action-".concat(n,"-item-").concat(c),"data-custom-link-analytics":"true",as:"a",href:p,target:"_blank",rel:"noopener noreferrer",leftIcon:v,onClick:()=>{d("Exit Link Clicked",null,{url:p}),x()},...l,children:u},u):null})(e)))})},ee=n(65983);var te=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.Z,{...e,itemPosition:1,eventLocation:"Venue Title",hasIcon:!1}),(0,i.jsx)(I.xu,{py:4,borderTop:"1px solid",borderBottom:"1px solid",borderColor:U.Z.gray10,children:(0,i.jsx)(ee.Z,{...e,itemPosition:1})})]});var ne=e=>{let{review:t,cmpName:n,cmpType:a,city:r}=e;const{venue:s}=t;return s?(0,i.jsx)(I.xu,{position:"sticky",top:"124px",children:(0,i.jsxs)(M.k,{flexDir:"column",gap:4,children:[(0,i.jsx)(F,{review:t,cmpName:n,cmpType:a}),(0,i.jsx)(te,{review:t,cmpName:n,cmpType:a,city:r}),(0,i.jsx)(K,{review:t,type:"menu",cmpName:n,cmpType:a,eventLocation:"Venue Details"})]})}):null},ie=n(34155),ae=n(35385),re=n(89374),se=n(88942),oe=n(13529),le=n(54639),ce=n(65915),de=n(16666),ue=n(91647),me=n(71613),pe=n(65563),ve=n(47589);var xe=e=>{let{review:t,isTrendingPost:n}=e;var a,r;const s=(0,E.Z)(),{isTop10TrendingPost:o}=n,{title:l,rating:c,venue:d,headline:u}=t,{src:m,photo_creds:p,alt:g=(0,v.GH)("PostReview",l)}=(0,x.Oe)(t,"headerImage"),h={src:m,alt:g};var y;const[f]=null!==(y=null===(a=t.badgeCollection)||void 0===a?void 0:a.items)&&void 0!==y?y:[],b=(0,me.Z)("ROLLOUT_WEB_MEDIA_STANDARDIZATION",!1),j="Review Content",k="Content Page";return d?(0,i.jsxs)(M.k,{flexDir:"column",gap:4,mb:10,children:[(0,i.jsxs)(I.xu,{children:[!b&&(0,i.jsx)(re.Z,{className:"flatplan_photoCredit",text:p,pb:2,textAlign:"right"}),(0,i.jsxs)(I.xu,{className:"flatplan_venue-headerImage",position:"relative",children:[(0,i.jsx)(pe.e,{children:(0,i.jsx)(ae.Z,{image:h,post:t,cmpName:j,cmpType:k,children:m&&(0,i.jsx)(ie.Z,{layout:"responsive",sizes:ue.pA,...ue.bp["4:3"],...h})})}),c&&(0,i.jsx)(se.ZP,{post:t,rating:c,isStatic:!m}),f&&(0,i.jsx)(oe.Z,{badge:f,onClick:()=>{s("CTA Clicked",t,{eventLabel:"".concat(null==f?void 0:f.type," Badge"),itemName:null==f?void 0:f.altText,itemPosition:1})},pos:"absolute",zIndex:1,bottom:b?8:2,left:-4})]})]}),o&&(0,i.jsx)(ve.Z,{postType:"Review"}),u&&(0,i.jsx)(w.X,{className:"flatplan_venue-headline",as:"h3",variant:"h3",textAlign:"center",py:6,borderY:"1px solid ".concat(U.Z.gray10),children:u}),(0,i.jsx)(ce.Z,{venue:d}),(0,i.jsx)(le.Z,{post:t,postType:"Review",contributors:null===(r=t.contributorCollection)||void 0===r?void 0:r.items,date:(0,de.P)(t),cmpType:k,cmpName:j,isSmall:!0}),(0,i.jsx)(K,{review:t,type:"pills",cmpName:j,cmpType:k,eventLocation:"Review Body",hasSaveLast:!0,flexWrap:{md:"wrap"},overflowX:{base:"auto",md:"hidden"},mx:{base:-6,md:0},buttonProps:{_first:{ml:{base:6,md:0}}}})]}):null},ge=n(46338),he=n.n(ge),ye=n(50286),fe=n(79931),be=n(27648);var je=e=>{let{tags:t=[],review:n,itemPosition:a,cmpName:r,cmpType:s,city:o}=e;var l;const c=(0,E.Z)(),d=(0,be.ti)(n.contentfulMetadata),u=!!(null==n||null===(l=n.venue)||void 0===l?void 0:l.reservation);return 0===t.length?null:(0,i.jsxs)(I.xu,{my:{base:8,md:12},children:[(0,i.jsx)(w.X,{className:"flatplan_perfectFor-header",variant:"h4",pb:5,children:"Perfect for"}),(0,i.jsx)(M.k,{flexWrap:"wrap",columnGap:6,rowGap:4,children:t.map((e=>{let{name:t,path:l}=e;const m=o?"/".concat(o,"/perfect-for/").concat(he()(t)):"";return(0,i.jsx)(ye.Z,{"data-testid":"large-tag",variant:"perfectFor",isLargeTags:!0,href:l||m,onClick:()=>(e=>{var t,i;c("Perfect For Tag Clicked",n,{itemPosition:a,cmpName:r,cmpType:s,perfectFor:[e],hasReservation:u,...u&&{reservationPlatform:(0,fe.$T)(null==n||null===(i=n.venue)||void 0===i||null===(t=i.reservation)||void 0===t?void 0:t.reservationPlatform,d)}})})(t),children:t},t)}))})]})},ke=n(29056),Ce=n(82635),we=n(7754);const _e=(0,ke.E)(I.xu),Pe=(0,ke.E)(I.xu);var Ze=e=>{let{review:t,city:n,cmpName:r,cmpType:s}=e;const o=(0,E.Z)(),[l,c]=(0,a.useState)(!1),d=()=>{o("View Toggled",t,{eventLabel:l?"View Post":"View Sticky Header"}),c(!l)},{venue:u}=t;return u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ce.M,{children:l&&(0,i.jsx)(I.xu,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",bg:"rgba(0, 0, 0, 0.20)",transform:"translateX(0px) translateY(0%) translateZ(0px)",zIndex:"var(--zindex-modal)",onClick:d,"aria-label":"Close tray",role:"button",tabIndex:0})}),(0,i.jsxs)(_e,{"data-testid":"sticky-footer-tray",display:{md:"none"},position:"fixed",bottom:0,left:0,right:0,bg:U.Z.white,borderTopRadius:16,boxShadow:"0px -4px 12px 0px rgba(0, 0, 0, .1)",px:6,pb:6,pt:2,onClick:d,layout:!0,transition:{type:"tween",ease:"easeOut",duration:.25},zIndex:l?"var(--zindex-modal)":"var(--zindex-nav)","aria-expanded":l,"aria-label":"Toggle tray",role:"button",tabIndex:0,children:[(0,i.jsxs)(Pe,{layoutId:"header",children:[(0,i.jsx)(we.M,{children:(0,i.jsx)(W.c5,{boxSize:6,transform:l?"rotate(180deg)":"rotate(0deg)",transition:"all 0.1s ease"})}),(0,i.jsx)(F,{review:t,cmpName:r,cmpType:s,mb:2}),(0,i.jsx)(ee.Z,{review:t,city:n,cmpName:r,cmpType:s,itemPosition:1})]}),l&&(0,i.jsx)(Pe,{layoutId:"body",children:(0,i.jsxs)(M.k,{flexDir:"column",gap:4,pt:4,children:[(0,i.jsx)(I.xu,{borderY:"1px solid ".concat(U.Z.gray10),py:4,children:(0,i.jsx)(K,{review:t,type:"pills",cmpName:r,cmpType:s,eventLocation:"Sticky Header",overflowX:"auto",px:6,mx:-6})}),(0,i.jsx)(A.Z,{review:t,cmpName:r,cmpType:s,city:n,itemPosition:1,eventLocation:"Venue Title",hasIcon:!1})]})})]})]}):null},Te=n(90091),Ne=n(47807),Se=n.n(Ne),Ie=n(18401),Le=n(51391);var Re=e=>{let{review:t,city:n,isTrendingPost:r,isVisitedStatus:s}=e;var o,l,c,u,m,p,x;const g=(0,v.MQ)(t.linkedFrom,4),{venue:h}=t,y=null===(o=t.content)||void 0===o?void 0:o.links,f=null===(l=t.suggestedByWriterRecirculationCollection)||void 0===l?void 0:l.items,j="Review Content",I="Content Page",L=(0,Le.d)(t.contentfulMetadata),[R,A]=(0,a.useState)(!1),E=(0,C.ZP)({rootMargin:"-80px 0px",onChange:e=>{let{inView:t}=e;A(t)}});return h?(0,i.jsxs)(d.yl,{...d.L2,className:Se().page,pt:6,gap:10,children:[(0,i.jsx)(d.P4,{colSpan:{md:4,lg:3},display:{base:"none",md:"block"},children:(0,i.jsx)(ne,{review:t,cmpName:j,cmpType:I,city:n})}),(0,i.jsx)(d.P4,{colSpan:{base:6,md:8,lg:6},gridColumnStart:{md:5},children:(0,i.jsxs)("div",{ref:E.observe,children:[(0,i.jsxs)(w.X,{textTransform:"uppercase",as:"p",mb:"2",variant:"h4",className:(0,b.Z)(Se().label,"sr-only","flatplan_category"),children:[(0,i.jsx)("span",{children:(0,i.jsx)(k(),{href:t.canonicalPath||"",children:null===(c=t.city)||void 0===c?void 0:c.abbreviation})},null===(u=t.city)||void 0===u?void 0:u.name),(0,i.jsx)("span",{children:"Review"})]}),(0,i.jsxs)(Ie.Z,{gallery:null==t?void 0:t.headerGallery,postType:"Review",post:t,isFirstImgPrioritized:!0,children:[(0,i.jsx)(xe,{review:t,isTrendingPost:r}),(0,i.jsx)(je,{tags:(0,v.qG)(t),review:t,itemPosition:1,cmpName:j,cmpType:I,city:n})]}),(0,i.jsx)(_.Z,{json:(0,Te.Hh)(null===(m=t.content)||void 0===m?void 0:m.json),links:y,pageData:{title:t.title,type:t.__typename,post:t},reviewStatus:t.status,city:n,hasReservationTips:!!t.reservationTips,hasReservation:!!(null==t||null===(p=t.venue)||void 0===p?void 0:p.reservation),cmpName:j,cmpType:I}),!!(null==g?void 0:g.length)&&(0,i.jsx)(P.Z,{name:"Included In","data-testid":"featuredSection-desktop",variant:"featured",my:{base:8,md:10},children:(0,i.jsx)(N.Z,{posts:g,cmpName:"Included In",cmpType:"Included In",isFeaturedIn:!0,isH3Variant:!0,featuredInContainerProps:{margin:0},paddingInlineStart:0,display:{base:"flex",md:"grid"},gridTemplateColumns:{md:"repeat(2, minmax(0, 1fr))"},gridGap:{md:6},alignItems:"center"})}),(0,i.jsx)(D,{review:t,cmpName:"Review Content",cmpType:"Content Page"}),s&&(0,i.jsx)(Z.Z,{rating:t.rating,mb:{base:6,md:10}}),(0,i.jsx)(T.Z,{adLocation:"PostReview",isAdSuppressed:L,city:n,style:{width:"100%",marginTop:"20px",marginBottom:"-40px"}})]})}),!!(null==f?void 0:f.length)&&(0,i.jsx)(d.P4,{colSpan:{base:6,md:12},mt:10,children:(0,i.jsx)(P.Z,{name:"Suggested Reading",variant:"featured","data-testid":"featuredSection-desktop",mb:0,children:(0,i.jsx)(N.Z,{posts:f,cmpName:"Suggested Reading",cmpType:"Suggested By Writer"})})}),(0,S.U)(null===(x=t.contributorCollection)||void 0===x?void 0:x.items)?null:(0,i.jsx)(d.P4,{colSpan:{base:6,md:12},children:(0,i.jsx)(P.Z,{name:"Written By",variant:"featured","data-testid":"writtenby-section",children:(0,i.jsx)(S.Z,{post:t})})}),(0,i.jsx)(Ze,{review:t,city:n,cmpName:j,cmpType:I})]}):null},Ae=n(66439),Ee=n(53022);var Be=!0,De=(0,y.Z)()((e=>{let{isPreview:t,isVisitedStatus:n,isTop10TrendingPost:r=!1}=e;const y=(0,l.useRouter)(),{slug:b,city:j}=y.query,{storePostToRecent:k}=(0,Ee.Z)(),C=t?{preview:t,slug:b}:{path:"/".concat(j),preview:t,slug:b},{review:w,loading:_,error:P}=(0,h.r)({skip:!b,variables:C});(0,Ae.Z)();const Z=(0,v.PJ)(y.asPath);if((0,a.useEffect)((()=>{k(w)}),[b]),_)return(0,i.jsx)(u.Z,{});if(P)return(0,i.jsx)(c.default,{statusCode:500});const T=(null==w?void 0:w.seoMetaDescription)||(null==w?void 0:w.preview),{src:N,imagePreview:S}=(0,x.Oe)(w,"headerImage"),I=null!=S?S:N;var L,R;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("meta",{name:"description",content:T},"description"),(0,i.jsx)("meta",{property:"og:type",content:"article"}),(0,i.jsx)("meta",{property:"og:image",content:I}),(0,i.jsx)("meta",{property:"og:description",content:T}),(0,i.jsx)("meta",{property:"article:published_time",content:null!==(L=null==w?void 0:w.sys.firstPublishedAt)&&void 0!==L?L:null==w?void 0:w.sys.publishedAt}),(0,i.jsx)("meta",{property:"article:modified_time",content:null!==(R=null==w?void 0:w.datePublished)&&void 0!==R?R:null==w?void 0:w.sys.publishedAt}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@infatuation"}),(0,i.jsx)("meta",{name:"twitter:image:src",content:I}),(0,i.jsx)("meta",{name:"twitter:description",content:T}),(0,i.jsx)("script",{...(0,o.h6)((0,g.pC)(w))}),(0,i.jsx)("link",{rel:"canonical",href:"".concat(Z)})]}),(0,i.jsx)(p.ZP,{post:w,pageHasPost:!0}),(0,i.jsx)(f.Z,{post:w}),(0,i.jsx)(d.yl,{...d.L2,children:(0,i.jsx)(d.P4,{colSpan:{base:6,md:12,lg:9},children:(0,i.jsx)(m.Z,{currentPage:null==w?void 0:w.title,mb:0})})}),(0,i.jsx)(Re,{review:w,city:j,isTrendingPost:{isTop10TrendingPost:r},isVisitedStatus:n})]})}))},16666:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var i=n(25030),a=n.n(i);const r=e=>{if(!e||!e.publishDate)return null;const t=a()(e.publishDate).format("YYYY-MM-DD");return["2022-01-13","2022-01-14"].includes(t)&&"PostReview"===e.__typename&&!e.rating?null:e.publishDate.split("T")[0]}},19385:function(e){e.exports={pinContainer:"styles_pinContainer__OHtaL",pinBase:"styles_pinBase__o0I5M",ranked:"styles_ranked__hleF8",empty:"styles_empty__wYg3E",bookmark:"styles_bookmark__3YXm_",bookmarkEmpty:"styles_bookmarkEmpty__yCF7z"}},22593:function(e){e.exports={instagramIcon:"styles_instagramIcon__7Uvu9"}},47807:function(e){e.exports={page:"styles_page__DBRbn",label:"styles_label__TtLIB",byLine:"styles_byLine__Sd_O9"}},69323:function(e){e.exports={writtenByCard:"styles_writtenByCard__zovd9",avatar:"styles_avatar__di5uU",title:"styles_title__7XHjM"}},59489:function(e,t,n){"use strict";n.d(t,{g:function(){return m}});var i=n(56803),a=n(87338),r=n(35059),s=n(93701),o=n(62272),l=(0,r.G)((function(e,t){const{spacing:n,...i}=e,r={mx:n,...(0,a.w)().separator};return(0,o.jsx)(s.m.span,{ref:t,role:"presentation",...i,__css:r})}));l.displayName="BreadcrumbSeparator";var c=n(92495),d=n(25432),u=n(84814),m=(0,r.G)((function(e,t){const{isCurrentPage:n,separator:r,isLastChild:m,spacing:p,children:v,className:x,...g}=e,h=(0,c.W)(v).map((e=>e.type===i.A?(0,u.cloneElement)(e,{isCurrentPage:n}):e.type===l?(0,u.cloneElement)(e,{spacing:p,children:e.props.children||r}):e)),y={display:"inline-flex",alignItems:"center",...(0,a.w)().item},f=(0,d.cx)("chakra-breadcrumb__list-item",x);return(0,o.jsxs)(s.m.li,{ref:t,className:f,...g,__css:y,children:[h,!m&&(0,o.jsx)(l,{spacing:p,children:r})]})}));m.displayName="BreadcrumbItem"},56803:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var i=n(87338),a=n(35059),r=n(93701),s=n(25432),o=n(62272),l=(0,a.G)((function(e,t){const{isCurrentPage:n,as:a,className:l,href:c,...d}=e,u=(0,i.w)(),m={ref:t,as:a,className:(0,s.cx)("chakra-breadcrumb__link",l),...d};return n?(0,o.jsx)(r.m.span,{"aria-current":"page",__css:u.link,...m}):(0,o.jsx)(r.m.a,{__css:u.link,href:c,...m})}));l.displayName="BreadcrumbLink"},87338:function(e,t,n){"use strict";n.d(t,{W:function(){return a},w:function(){return r}});var i=n(55227),[a,r]=(0,i.k)({name:"BreadcrumbStylesContext",errorMessage:"useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Breadcrumb />\" "})},47345:function(e,t,n){"use strict";n.d(t,{a:function(){return m}});var i=n(87338),a=n(25432),r=n(92495),s=n(35059),o=n(91639),l=n(33179),c=n(93701),d=n(84814),u=n(62272),m=(0,s.G)((function(e,t){const n=(0,o.jC)("Breadcrumb",e),s=(0,l.Lr)(e),{children:m,spacing:p="0.5rem",separator:v="/",className:x,listProps:g,...h}=s,y=(0,r.W)(m),f=y.length,b=y.map(((e,t)=>(0,d.cloneElement)(e,{separator:v,spacing:p,isLastChild:f===t+1}))),j=(0,a.cx)("chakra-breadcrumb",x);return(0,u.jsx)(c.m.nav,{ref:t,"aria-label":"breadcrumb",className:j,__css:n.container,...h,children:(0,u.jsx)(i.W,{value:n,children:(0,u.jsx)(c.m.ol,{className:"chakra-breadcrumb__list",...g,__css:{display:"flex",alignItems:"center",...n.list},children:b})})})}));m.displayName="Breadcrumb"},7754:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var i=n(93701),a=n(35059),r=n(62272),s=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});s.displayName="Center";var o={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,a.G)((function(e,t){const{axis:n="both",...a}=e;return(0,r.jsx)(i.m.div,{ref:t,__css:o[n],...a,position:"absolute"})}))}}]);