"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3905,6239],{89066:function(e,n,t){t.d(n,{NI:function(){return a},Vo:function(){return i}});var i,a,o=t(84814),r=t(1568),l=t(30923),s=t(29844),c=t(14413);!function(e){e.Signup="Signup",e.Signin="Signin",e.GoogleOneTap="GoogleOneTap",e.Profile="Profile",e.ForgotPassword="ForgotPassword",e.ChangePassword="ChangePassword"}(i||(i={})),function(e){e.Authentication="Authentication",e.ProfileService="Profile Service"}(a||(a={}));n.ZP=e=>{const n=(0,l.Z)(),{setUserLoading:t,setAuthError:i,user:a}=(0,c.aF)(),{authError:d}=a,u=(0,o.useCallback)((function(o){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Authentication";const{errorCode:c,errorDescription:d}=o,u=(0,r.T3)(c,d);return n("Error Viewed",null,{logged_in:a.loggedIn||!1,error_message:u,error_type:l}),(0,s.TR)("[".concat(e,"] errorCode=").concat(c," errorDescription=").concat(null!=d?d:""," errorMessage=").concat(u)),t(!1),i(u),{errorCode:c,errorMessage:u}}),[n,e,t,i,a.loggedIn]);return{handleAuthError:u,authError:d,clearAuthError:(0,o.useCallback)((()=>{i(null)}),[i])}}},63905:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne},handleAnalyticsOnSignUp:function(){return ee}});var i=t(62272),a=t(84814),o=t(63119),r=t(88911),l=t(33838),s=t(7754),c=t(76684),d=t(14418),u=t(93701),m=t(204),p=t(23100),g=t(29222),h=t(74199),v=t(15058),f=t(97822),x=t(41664),y=t.n(x),b=t(37469),C=t(11163),w=t(614),S=t.n(w),j=t(47041),N=t(67320),I=t(26555),A=t(35532),k=t(68295),P=t(96838),_=t(34155),U=t(91647),E=t(30923),L=t(33562),T=t(14413);var F=()=>{var e;const n=(0,L.Z)(U.RJ),{user:t}=(0,T.aF)(),a=null===(e=t.modal)||void 0===e?void 0:e.flow,o=(0,E.Z)();return(0,i.jsxs)(m.k,{"data-testid":"successScreen-welcomePopUp",height:{base:"100%",md:"auto"},flexDir:"column",children:[(0,i.jsx)(m.k,{justifyContent:"center",alignItems:"flex-end",flexGrow:{base:1,md:0},bgColor:"primary",color:"white",px:6,children:(0,i.jsx)(_.Z,{src:"/assets/app_promo.svg",alt:"Mobile App",width:n?326:306,height:n?288:270})}),(0,i.jsxs)(m.k,{p:6,flexDir:"column",children:[(0,i.jsxs)(m.k,{alignItems:"center",mb:4,children:[(0,i.jsx)(N.bL,{fontSize:24,fill:"green50",mr:2}),(0,i.jsx)(d.X,{as:"h4",variant:"h4",textTransform:"uppercase","data-testid":"successScreen-welcomeHeading",children:"Thanks for signing up"})]}),(0,i.jsx)(d.X,{variant:"h2",mb:{base:2,md:4},children:"Download our app"}),(0,i.jsxs)(m.k,{flexDirection:{base:"column",md:"row"},children:[(0,i.jsx)(m.k,{mr:6,height:{base:"auto",md:88},width:{base:"auto",md:88},flex:"none",order:{base:2,md:1},children:(0,i.jsx)(P.default,{destinationUrl:n?U.q_:U.Uf,handleAnalyticsOnAppStoreIconClick:e=>n?(o("Exit Link Clicked",null,{url:e,event_location:a,modalName:"Signup Confirmation"}),null):null})}),(0,i.jsx)(r.x,{order:{base:1,md:2},mb:{base:4,md:0},children:n?"Find the perfect spot nearby and access your lists on the go.":"Scan the QR code to download our app and find the perfect spot nearby."})]})]})]})},O=t(79931),M=t(55537),$=t(12433),z=t(29844),G=t(75396),R=t(88641),B=t(58880),D=t(79924),X=t(6832),V=t(1568),q=t(69650),Z=t(89782),W=t(35800),H=t(803),K=t(95145),J=t(70981),Y=t(89066);S()(o);const Q=o.object().shape({email:o.string().matches(U.bF,U.T2).required("Please enter your email"),password:o.string().min(8).minUppercase(1).minNumbers(1).required(),fullName:o.string().trim().min(3,"Full Name must be at least 3 characters").required("Full name is required")}),ee=async e=>{let{authMethod:n,eventLocation:t,isNewUser:i,userId:a,userEmail:o,userFullName:r,userAnalyticsId:l,segmentTrack:s,segmentClient:c}=e;var d;null===(d=window.branch)||void 0===d||d.setIdentity(a),(0,$.Er)("Account Created"),o&&await(0,M.z)(o);const u=o&&await(0,z.x5)(o);s(i?"Account Signup":"Account Login",null,{authMethod:n,logged_in:!0,externalId:u,eventLocation:t}),i&&"Email"===n&&(c.identify(l,{externalId:u,name:r}),s("Account Details Updated",null,{eventLabel:"Account Name Added",externalId:u,eventLocation:"Main Navigation",modal_name:"Signup Email Form",logged_in:!0}))};var ne=e=>{let{onClickLogin:n,onClose:t,variant:o="page"}=e;var x,w,S,P,_,L;const ne=(0,C.useRouter)(),te=ne.query.city,{cities:ie}=(0,G.Z)(),ae=te?"/".concat(te):(0,j.getCookie)(U.OJ),oe=null==ie||null===(x=ie.find((e=>e.path===ae)))||void 0===x?void 0:x.displayName,re=U.Sg.find((e=>e.displayName===oe)),[le,se]=(0,a.useState)(null),{categories:ce}=(0,B.YL)(),{segmentClient:de}=(0,D.wV)(),{open:ue}=(0,W.Wh)(),me=(0,X.Ji)(),pe=(0,X.SS)(),{user:ge,login:he,setModalExistingEmail:ve,setSignUpStep:fe,setUserLoading:xe,updateAuthProvider:ye,setChaseLinkingStatus:be,setSecureUserDisplayName:Ce}=(0,T.aF)(),{setBookmarkLists:we}=(0,Z.a)(),{city:Se}=(0,K.j)(),je=null===(w=ge.details)||void 0===w?void 0:w.email,Ne=null===(S=ge.modal)||void 0===S?void 0:S.flow,Ie=null===(P=ge.modal)||void 0===P?void 0:P.existingEmail,Ae=null===(_=ge.modal)||void 0===_?void 0:_.signUpStep,{details:ke,authProvider:Pe}=ge,_e="page"!==o&&Ne?Ne:"Signup Page",Ue=(0,E.Z)(),{handleAuthError:Ee,authError:Le,clearAuthError:Te}=(0,Y.ZP)(Y.Vo.Signup),Fe=e=>fe(e);(0,a.useEffect)((()=>{"signup_options"===Ae&&(se(null),Ue("Modal Viewed",null,{eventLocation:Ne||"Signup Page",modalName:"Signup Options"})),"email"===Ae&&Ue("Modal Viewed",null,{eventLocation:Ne||"Signup Page",modalName:"Signup Email Form"}),"newsletter"===Ae&&Ue("Modal Viewed",null,{eventLocation:Ne||"Signup Page",modalName:"Signup Email Optin",logged_in:!0}),"success"===Ae&&Ue("Modal Viewed",null,{eventLocation:Ne||"Signup Page",modalName:"Signup Confirmation",logged_in:!0})}),[Ae]),(0,a.useEffect)((()=>{(async()=>{if("signup_options"===Ae&&(Pe===X.BO.Google||Pe===X.BO.Apple)){Fe("social_signup_loader");await Ze()||(Fe("signup_options"),ye(null),xe(!1))}})()}),[Pe,Ae]);const Oe=async e=>{const n=await(0,z.x5)(e);de.identify(null==ke?void 0:ke.analyticsId,{email:e,externalId:n,...(0,O._V)(["product_updates"])},{context:{consent:{categoryPreferences:ce}}}),Ue("Email Subscribed",null,{eventLocation:Ne||"Signup Page",subscribed_to:["pr_u"],logged_in:!0,externalId:n})},Me=(0,a.useCallback)((async(e,n)=>{(0,$.WG)("Newsletter");const t=await(0,z.x5)(e);de.identify(null==ke?void 0:ke.analyticsId,{email:e,externalId:t,...(0,O._V)(n)},{context:{consent:{categoryPreferences:ce}}}),Ue("Email Subscribed",null,{eventLocation:Ne||"Signup Page",subscribed_to:(0,O.Ms)(n),logged_in:!0,externalId:t}),(0,z.BE)(n.map((e=>e.split("_")[0])),void 0,e!==Ie)}),[ne.pathname]);var $e;const ze=null!==($e=null==ne||null===(L=ne.query)||void 0===L?void 0:L.callback)&&void 0!==$e?$e:"",Ge=Array.isArray(ze)?ze[0]:ze,Re=()=>{be("linking"),Fe("chase-linking")},Be={email:null!=Ie?Ie:"",password:"",fullName:"",newsletter:!!re,productPromotion:!0},De=(0,b.TA)({initialValues:Be,validationSchema:Q,validateOnBlur:!0,validateOnChange:!0,enableReinitialize:!0,onSubmit:async(e,i)=>{var a,r;let l;xe(!0),Te();const s=(0,H.$e)();re&&!Ie&&(l=[re.value]),(0,z.TR)(" SignUp Flow Started for: "+(0,z.xX)(e.email)+" with trace ID: "+s);const c=await(0,V.g_)(e.email,e.password,s);if(!c.success){const{error:e}=c;return Ee(e),"1002"===e.errorCode&&n&&(ve(De.values.email),n()),i.setSubmitting(!1),!1}var d,u,m;const p={cityIdentifier:null!==(d=null==Se||null===(a=Se.sys)||void 0===a?void 0:a.id)&&void 0!==d?d:"",cityName:null!==(u=null==Se?void 0:Se.displayName)&&void 0!==u?u:"",homeCityCanonicalPathText:null!==(m=null==Se?void 0:Se.path)&&void 0!==m?m:""},g=await(0,J.E)(pe.mutateAsync,{emailAddressIdentifier:e.email,fullName:e.fullName,providerName:X.BO.Local,productUpdates:e.productPromotion,subNewsLetters:e.newsletter?l:[],customAttributeList:(0,z.mX)(),traceId:s,...""!==p.homeCityCanonicalPathText?{cityInfo:p}:{}});if(!g.success)return Ee(g.error,Y.NI.ProfileService),i.setSubmitting(!1),!1;const{emailAddressIdentifier:h,fullName:v,diningProfileIdentifier:f,providerName:x,analyticsIdentifier:y,legacyProfileIdentifier:b,homeCityCanonicalPathText:C}=(null===(r=g.data)||void 0===r?void 0:r.createProfile)||{emailAddressIdentifier:"",fullName:"",diningProfileIdentifier:"",providerName:"",analyticsIdentifier:"",legacyProfileIdentifier:"",homeCityCanonicalPathText:""};ye(x||""),(0,z.$$)();const w={creationTime:void 0,email:h||"",emailVerified:!0,lastSignInTime:void 0,phoneNumber:null,photoUrl:null,uid:f||"",refreshToken:null,isLoggingOut:!1,legacyId:b,analyticsId:y,homeCity:C||""};return v&&Ce(v),he(w),await(0,q.U)(w.uid,we),ee({authMethod:"Email",isNewUser:!0,userId:f,userEmail:h,userFullName:v,userAnalyticsId:y,eventLocation:_e,segmentTrack:Ue,segmentClient:de}),e.productPromotion&&await Oe(e.email),e.newsletter&&l&&await Me(e.email,l),"Section Front Ad"===Ne||"Main Navigation - Chase Promo"===Ne?Re():"page"===o||(null==Ne?void 0:Ne.includes("DW"))?null==t||t():"Gated Content"!==Ne?(null==t||t(),ue()):Fe("success"),i.setSubmitting(!1),!0}}),Xe=De.isValid&&De.dirty&&!De.isSubmitting,Ve=e=>{Ue("CTA Clicked",null,{eventLabel:"Signup Options",eventLocation:Ne||"Signup Page",modal_name:"Signup Options",item_name:"SIGN UP WITH ".concat(null==e?void 0:e.toUpperCase())})},qe=async e=>{Te(),xe(!0);const n=(0,V.Lh)(e);Ve(X.BO.Google===e?"Google":"Apple");const t=await n;if(!t.success)return Ee(t.error),void ye(null);xe(!1),ye(e)},Ze=async()=>{var e;const n=JSON.parse(window.localStorage.getItem("socialAuthToken")||'""'),i={state:null==n?void 0:n.state,code:null==n?void 0:n.code,scope:null==n?void 0:n.scope};window.localStorage.removeItem("socialAuthToken");const a=(0,H.$e)(),o=[];null==(null==i?void 0:i.state)&&o.push("state is ".concat(String(null==i?void 0:i.state))),null==(null==i?void 0:i.code)&&o.push("code is ".concat(String(null==i?void 0:i.code))),null==(null==i?void 0:i.scope)&&o.push("scope is ".concat(String(null==i?void 0:i.scope))),o.length>0&&(0,z.TR)("Social signup Request before callback of AuthService , traceId: ".concat(a,",\n        callbackPostBodyIfNullUndefined: ").concat(o.join(" | ")," "));const r=await(0,V.xv)(Pe,i,a);if(!r.success)return Ee(r.error),!1;const l="true"===(null==r?void 0:r.data.isNewUser);var s,c,d;const u={cityIdentifier:null!==(s=null==Se||null===(e=Se.sys)||void 0===e?void 0:e.id)&&void 0!==s?s:"",cityName:null!==(c=null==Se?void 0:Se.displayName)&&void 0!==c?c:"",homeCityCanonicalPathText:null!==(d=null==Se?void 0:Se.path)&&void 0!==d?d:""},m={customAttributeList:(0,z.mX)(),...""!==u.homeCityCanonicalPathText?{cityInfo:u}:{},traceId:a};if((Pe===X.BO.Google||Pe===X.BO.Apple)&&(m.providerName=Pe,Pe===X.BO.Apple&&(null==n?void 0:n.user))){var p,g;const e=JSON.parse(n.user);var h,v,f;if((0,z.TR)(" Apple Signup Flow Started for: "+(0,z.xX)(e.email)+" with trace ID: "+a),(null==e||null===(p=e.name)||void 0===p?void 0:p.firstName)||(null==e||null===(g=e.name)||void 0===g?void 0:g.lastName))m.fullName=((null==e||null===(h=e.name)||void 0===h?void 0:h.firstName)||"")+" "+((null==e||null===(v=e.name)||void 0===v?void 0:v.lastName)||""),null===(f=m.fullName)||void 0===f||f.trim();m.emailAddressIdentifier=e.email}const x=await(0,J.E)(pe.mutateAsync,{...m});if(!x.success)return Ee(x.error,Y.NI.ProfileService),!1;const{emailAddressIdentifier:y,fullName:b,diningProfileIdentifier:C,providerName:w,analyticsIdentifier:S,legacyProfileIdentifier:j,homeCityCanonicalPathText:N}=(null==x?void 0:x.data.createProfile)||{emailAddressIdentifier:"",fullName:"",diningProfileIdentifier:"",providerName:"",analyticsIdentifier:"",legacyProfileIdentifier:"",homeCityCanonicalPathText:""};ye(w||"");const I={creationTime:void 0,email:y||"",emailVerified:!0,lastSignInTime:void 0,phoneNumber:null,photoUrl:null,uid:C||"",refreshToken:null,isLoggingOut:!1,legacyId:j,analyticsId:S,homeCity:N};return b&&Ce(b),he(I),await(0,q.U)(I.uid,we),ee({authMethod:Pe===X.BO.Google?"Google":"Apple",isNewUser:l,userId:C,userEmail:y,userFullName:b,userAnalyticsId:S,eventLocation:_e,segmentTrack:Ue,segmentClient:de}),"Main Navigation - Chase Promo"===Ne&&(be("linking"),Fe("chase-linking")),"Section Front Ad"===Ne||"Main Navigation - Chase Promo"===Ne?Re():l?Fe("newsletter"):null==t||t(),!0},We=()=>{Ue("CTA Clicked",null,{eventLabel:"Signup Options",eventLocation:Ne||"Signup Page",modal_name:"Signup Options",item_name:"I ALREADY HAVE AN ACCOUNT"})},He=(0,i.jsxs)(r.x,{color:"gray50",variant:"caption",children:["By signing up, you agree to our"," ",(0,i.jsx)(y(),{href:"/terms",passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(l.r,{color:"body",textDecoration:"underline",fontSize:"inherit",onClick:t,children:"Terms and Conditions"})})," ","and"," ",(0,i.jsx)(y(),{href:"/privacy-policy",passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(l.r,{color:"body",textDecoration:"underline",fontSize:"inherit",onClick:t,children:"Privacy Policy"})}),"."]}),Ke=(0,i.jsx)(s.M,{children:(0,i.jsx)(A.Z,{href:Ge?"/login?callback="+Ge:"/login",color:"primary",variant:"unstyled","data-testid":"HaveAccount-link",onClick:e=>{n?(e.preventDefault(),We(),ve(""),Te(),n()):We()},children:"I already have an account"})}),Je=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.K,{mb:{base:4,md:6},gap:0,children:"Section Front Ad"===Ne||"Main Navigation - Chase Promo"===Ne||"Gated Content"===Ne?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.X,{as:"h2","data-testid":"SignUpForm-Header",mb:4,children:["Sign Up For ",(0,i.jsx)(u.m.span,{color:"primary",children:"The Infatuation"})]}),(0,i.jsx)(r.x,{children:"Once you’re signed up, you can then connect your Chase card to unlock exclusive perks."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.X,{as:"h2","data-testid":"SignUpForm-Header",mb:4,textTransform:"capitalize",children:["Sign Up To Save Spots And ",(0,i.jsx)(u.m.span,{color:"primary",children:"Get Exclusive Content"})]}),(0,i.jsx)(r.x,{children:"Save spots, share lists, and get insider notes from our editorial team in our newsletter."})]})}),Le&&(0,i.jsx)(s.M,{children:(0,i.jsxs)(m.k,{align:"center",color:"red50",mb:4,children:[(0,i.jsx)(N.Ry,{}),(0,i.jsx)(r.x,{color:"currentColor",pl:4,children:Le})]})}),(0,i.jsxs)(c.K,{spacing:4,pb:4,children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.$d,{icon:(0,i.jsx)(N._8,{}),onClick:async()=>qe(X.BO.Google),children:"Sign up with Google"}),(0,i.jsx)(I.$d,{icon:(0,i.jsx)(N.qw,{}),onClick:async()=>qe(X.BO.Apple),children:"Sign up with Apple"})]}),(0,i.jsx)(I.$d,{onClick:()=>{Te(),Ve("Email"),Fe("email")},children:"Sign up with Email"})]}),(0,i.jsx)(p.xu,{pb:"6",children:He}),Ke]}),Ye=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.z,{variant:"unstyled",position:"absolute",top:6,left:4,boxSize:8,display:"flex","data-testid":"back-button",onClick:()=>{Fe("signup_options"),Te(),De.resetForm(),De.setErrors({})},children:(0,i.jsx)(N.Xd,{boxSize:6,fill:"gray100"})}),(0,i.jsxs)(d.X,{as:"h2",mb:6,textTransform:"capitalize",children:["Sign Up To Save Spots And ",(0,i.jsx)(u.m.span,{color:"primary",children:"Get Exclusive Content"})]}),(0,i.jsx)(p.xu,{as:"form",justifyContent:"center",onSubmit:De.handleSubmit,"data-testid":"signUpForm-signUpModal",children:(0,i.jsxs)(c.K,{spacing:8,children:[(0,i.jsx)(k.Wi,{name:"email",value:De.values.email,placeholder:"Email address",onChange:De.handleChange,errorMessage:De.errors.email,"data-testid":"singUpForm-emailInput"}),(0,i.jsx)(k.RS,{name:"password",value:De.values.password,placeholder:"Password",onChange:De.handleChange,isPasswordChecklist:!0,"data-testid":"singUpForm-passwordInput"}),(0,i.jsx)(k.Wi,{name:"fullName",value:De.values.fullName,placeholder:"Full name",onChange:De.handleChange,errorMessage:De.errors.fullName,"data-testid":"singUpForm-fullNameInput"}),(0,i.jsx)(h.c,{children:(0,i.jsxs)(c.K,{spacing:{base:2,md:4},mt:2,children:[re&&!Ie&&(0,i.jsxs)(v.X,{alignItems:{base:"flex-start",md:"center"},name:"newsletter",onChange:De.handleChange,isChecked:!!De.values.newsletter,"data-testid":"signUpForm-subscribeCheckbox",children:["Subscribe me to the ",(0,i.jsx)("strong",{children:re.abbreviation.toUpperCase()})," newsletter"]}),(0,i.jsx)(v.X,{alignItems:{base:"flex-start",md:"center"},name:"productPromotion",onChange:De.handleChange,"data-testid":"signUpForm-productPromotion",isChecked:De.values.productPromotion,children:"Send me product updates and marketing emails"})]})}),(0,i.jsx)(g.z,{type:"submit",variant:"primary",w:"100%",isDisabled:!Xe,"data-testid":"signUpForm-createAccount",mt:{base:"16px !important",md:"24px !important"},children:"Create Account"}),le&&(0,i.jsxs)(m.k,{align:"center",color:"red50",mb:4,children:[(0,i.jsx)(N.Ry,{}),(0,i.jsx)(r.x,{color:"currentColor",pl:4,children:le})]})]})}),(0,i.jsx)(I.lX,{children:"or"}),Le&&(0,i.jsx)(s.M,{children:(0,i.jsxs)(m.k,{align:"center",color:"red50",mb:4,children:[(0,i.jsx)(N.Ry,{}),(0,i.jsx)(r.x,{color:"currentColor",pl:4,children:Le})]})}),(0,i.jsxs)(c.K,{spacing:4,pb:4,children:[(0,i.jsx)(I.$d,{icon:(0,i.jsx)(N._8,{}),onClick:async()=>qe(X.BO.Google),children:"Sign up with Google"}),(0,i.jsx)(I.$d,{icon:(0,i.jsx)(N.qw,{}),onClick:async()=>qe(X.BO.Apple),children:"Sign up with Apple"})]}),(0,i.jsx)(p.xu,{children:He})]}),Qe=(0,i.jsxs)(c.K,{minHeight:"500px",height:{base:"100%",md:"auto"},spacing:4,children:[(0,i.jsxs)(p.xu,{mb:"auto",children:[(0,i.jsx)(d.X,{as:"h2",variant:"h2",color:R.Z.gray100,children:"Confirm Email Preferences"}),(0,i.jsx)(r.x,{mt:{base:6,md:4},children:"Subscribe for exclusive content you won’t find on our site and get notified about events or updates."}),(0,i.jsx)(h.c,{children:(0,i.jsxs)(c.K,{my:{base:6,md:8},spacing:4,children:[re&&je!==Ie&&(0,i.jsxs)(v.X,{name:"newsletter",onChange:De.handleChange,isChecked:De.values.newsletter,children:["Subscribe me to the ",(0,i.jsx)("strong",{children:re.abbreviation.toUpperCase()})," newsletter"]}),(0,i.jsx)(v.X,{alignItems:"flex-start",sx:{"& > :last-child":{position:"relative",top:-1}},name:"productPromotion",onChange:De.handleChange,isChecked:De.values.productPromotion,children:"Send me product updates and marketing emails"})]})})]}),(0,i.jsxs)(p.xu,{children:[(0,i.jsx)(f.i,{mb:4,ml:"-24px",width:"calc(100% + 48px)"}),(0,i.jsx)(p.xu,{children:He})]}),(0,i.jsx)(g.z,{variant:"primary",w:"100%",onClick:async()=>{if(!je)return;await(0,M.z)(je),De.values.productPromotion&&await Oe(je);const e=!!re&&!!De.values.newsletter;(null==ke?void 0:ke.uid)&&await me.mutateAsync({emailAddressText:ke.email||"",productIndicator:De.values.productPromotion,subNewsletters:e?[re.value]:[],unsubNewsletters:[]}),e&&je!==Ie&&await Me(je,[re.value]),"page"===o||(null==Ne?void 0:Ne.includes("DW"))?null==t||t():"Gated Content"!==Ne?(null==t||t(),ue()):Fe("success")},children:"Save"}),(0,i.jsx)(p.xu,{mt:4,children:He})]}),en=(0,i.jsx)(k.aN,{height:"500"});return(0,i.jsxs)(i.Fragment,{children:["signup_options"===Ae&&Je,"email"===Ae&&Ye,"newsletter"===Ae&&Qe,"success"===Ae&&(0,i.jsx)(F,{}),"social_signup_loader"===Ae&&en]})}},55537:function(e,n,t){t.d(n,{z:function(){return o}});var i=t(29844),a=t(47041);const o=async e=>{try{var n,t,o,r;const l=await(0,i.x5)(e.toLowerCase());null===(t=window)||void 0===t||null===(n=t.appboy)||void 0===n||n.changeUser(l);const s=null===(r=window)||void 0===r||null===(o=r.appboy)||void 0===o?void 0:o.getUser();null==s||s.setEmail(e),null==s||s.addAlias(e,"email");const c=(0,a.getCookie)("_ga");"string"==typeof c&&(null==s||s.setCustomUserAttribute("ga_aid",c));const d=(0,a.getCookie)("ajs_anonymous_id");return"string"==typeof d?null==s||s.setCustomUserAttribute("segment_aid",d):null==s||s.setCustomUserAttribute("segment_aid",String(localStorage.ajs_anonymous_id)),s}catch(e){throw new Error("Braze not initialized")}}},70981:function(e,n,t){t.d(n,{A:function(){return r},E:function(){return o}});var i=t(6832),a=t(82348);const o=async(e,n)=>await(0,a.aF)((async()=>e({input:n}))),r=async(e,n,t)=>await(0,a.aF)((async()=>e.fetchQuery({queryKey:i.vR.getKey({input:n}),queryFn:i.vR.fetcher({input:n},t?{traceId:t}:void 0)})))},614:function(e,n){function t(e,n){return 1===n?e:`${e}s`}Object.defineProperty(n,"__esModule",{value:!0});const i={minLowercase:({path:e,length:n})=>`${e} must contain at least ${n} lowercase ${t("letter",n)}`,minUppercase:({path:e,length:n})=>`${e} must contain at least ${n} uppercase ${t("letter",n)}`,minNumbers:({path:e,length:n})=>`${e} must contain at least ${n} ${t("number",n)}`,minSymbols:({path:e,length:n})=>`${e} must contain at least ${n} ${t("symbol",n)}`,maxRepeating:({path:e,length:n})=>`${e} must not contain sequences of more than ${n} repeated characters`,minWords:({path:e,length:n})=>`${e} must contain at least ${n} ${t("word",n)}`};function a(e){return null==e}function o({setLocale:e,defaultLocale:n,addMethod:t,string:o}){e({string:i});const r=n.string;t(o,"minLowercase",(function(e=1,n=(null==r?void 0:r.minLowercase)){return this.test({message:n,name:"minLowercase",exclusive:!0,params:{length:e},test(n){return a(n)||(n.match(/[a-z]/g)||[]).length>=e}})})),t(o,"minUppercase",(function(e=1,n=(null==r?void 0:r.minUppercase)){return this.test({message:n,name:"minUppercase",exclusive:!0,params:{length:e},test(n){return a(n)||(n.match(/[A-Z]/g)||[]).length>=e}})})),t(o,"minNumbers",(function(e=1,n=(null==r?void 0:r.minNumbers)){return this.test({message:n,name:"minNumbers",exclusive:!0,params:{length:e},test(n){return a(n)||(n.match(/[0-9]/g)||[]).length>=e}})})),t(o,"minSymbols",(function(e=1,n=(null==r?void 0:r.minSymbols)){return this.test({message:n,name:"minSymbols",exclusive:!0,params:{length:e},test(n){return a(n)||(n.match(/[^a-zA-Z0-9\s]/g)||[]).length>=e}})})),t(o,"maxRepeating",(function(e=2,n=(null==r?void 0:r.maxRepeating)){return this.test({message:n,name:"maxRepeating",exclusive:!0,params:{length:e},test(n){return a(n)||!new RegExp(`(.)\\1{${e},}`).test(n)}})})),t(o,"minWords",(function(e=2,n=(null==r?void 0:r.minWords)){return this.test({message:n,name:"minWords",exclusive:!0,params:{length:e},test(n){return a(n)||n.split(" ").filter((e=>!!e&&/[a-zA-Z0-9]/.test(e))).length>=e}})})),t(o,"password",(function(){return this.min(8).max(250).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1)}))}n.default=o,e.exports=o},74199:function(e,n,t){t.d(n,{c:function(){return l}});var i=t(5478),a=t(77840),o=t(84814),r=t(62272);function l(e){const{colorScheme:n,size:t,variant:l,children:s,isDisabled:c}=e,{value:d,onChange:u}=(0,a.u)(e),m=(0,o.useMemo)((()=>({size:t,onChange:u,colorScheme:n,value:d,variant:l,isDisabled:c})),[t,u,n,d,l,c]);return(0,r.jsx)(i.z,{value:m,children:s})}l.displayName="CheckboxGroup"},7754:function(e,n,t){t.d(n,{M:function(){return r}});var i=t(93701),a=t(35059),o=t(62272),r=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});r.displayName="Center";var l={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,a.G)((function(e,n){const{axis:t="both",...a}=e;return(0,o.jsx)(i.m.div,{ref:n,__css:l[t],...a,position:"absolute"})}))}}]);