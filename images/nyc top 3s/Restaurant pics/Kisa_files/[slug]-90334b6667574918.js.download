(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3942],{8076:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contributor/[slug]",function(){return s(52113)}])},36433:function(e,t,s){"use strict";s.d(t,{Z:function(){return M}});var a=s(62272),i=s(84814),r=s(29726),n=s(11163),l=s(90512),o=s(14418),c=s(91669),u=s(97822),d=s(23100),h=s(31224),m=s(65393),p=s(35532),v=s(65313),g=s(29844),y=s(91647),_=s(16666),f=s(1526),x=s(32277),P=s.n(x),N=s(25007);var b=e=>{let{variant:t="default",data:s,className:r,fetchMore:x,hasMore:b,headText:j,isHeaderPageHeader:w,isLoading:C,isWithWrapper:M=!0,cmpName:E,cmpType:R,isPushShallow:T}=e;const Z=(0,n.useRouter)(),S=(0,g.Uw)(Z.query.page),k=(0,g.CU)(Z.asPath),O=(0,g.ho)(Z.asPath),A="default"===t,I=(0,a.jsxs)(a.Fragment,{children:[A?(0,a.jsxs)("div",{className:P().title,children:[(0,a.jsx)(v.K7,{className:P().logoIcon,fill:y.DM.primary}),(0,a.jsx)(o.X,{as:w?"h1":"h2",variant:"h3",textTransform:"uppercase",children:j}),(0,a.jsx)("span",{className:P().label,children:S>1&&(0,a.jsxs)("span",{children:["Page ",S]})})]}):(0,a.jsx)(N.Z,{as:"h4",variant:"postWidget",title:"All Posts",mb:6}),(0,a.jsx)(c.g,{className:P().posts,gap:A?"initial":6,children:null==s?void 0:s.items.map(((e,r)=>{var n,o,c;const d=e,{src:h,alt:p}=(0,f.Oe)(e,"headerImage");return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(m._,{variant:t,post:d,className:(0,l.Z)(P().detailedStory,"detailedStory"),contributors:null==d||null===(n=d.contributorCollection)||void 0===n?void 0:n.items,city:"city"in d?null===(o=d.city)||void 0===o?void 0:o.abbreviation:"",date:(0,_.P)(d),id:d.sys.id,imageProps:{alt:p||(0,g.GH)(null==d?void 0:d.__typename,null==d?void 0:d.title),layout:"responsive",sizes:"(min-width: 600px) 292px, calc(100vw - 32px)",src:h},path:null==d?void 0:d.canonicalPath,preview:(null==d?void 0:d.preview)||"",rating:"rating"in d&&0!==(null==d?void 0:d.rating)?null==d?void 0:d.rating:null,slug:null==d||null===(c=d.slug)||void 0===c?void 0:c.name,title:null==d?void 0:d.title,type:(0,g.z_)(null==d?void 0:d.__typename),itemPosition:r+1,cmpName:A?E:"All Posts",cmpType:R,mt:"0px !important"}),A||s.items.length===r+1?null:(0,a.jsx)(u.i,{m:"0px !important",borderColor:"gray10"})]},d.sys.id)}))}),(0,a.jsxs)(d.xu,{textAlign:A?"center":"left",children:[O&&!T&&(0,a.jsx)(p.Z,{variant:"secondary",className:P().loadMoreButton,href:O,children:"Previous page"}),b&&(0,a.jsx)(p.Z,{href:k,className:P().loadMoreButton,onClick:e=>{e.preventDefault(),C||x()},children:C?"Loading...":"Load more"})]})]});return M?(0,a.jsx)("section",{className:P().mostRecent,children:(0,a.jsx)(h.yl,{...h.L2,className:(0,l.Z)(P().wrapper,r),children:(0,a.jsx)(h.P4,{colSpan:{base:6,md:12,lg:9},children:I})})}):(0,a.jsx)("div",{className:r,children:I})},j=s(96904),w=s(81956),C=s(30923);var M=e=>{var t;const{variant:s="default",query:l,pageNumber:o,className:c,title:u,isTitlePageHeader:d,isWithWrapper:h=!0,hasMostPopular:m,cityName:p,isPushShallow:v}=e,_=(0,n.useRouter)(),f=(0,C.Z)(),[x,P]=(0,i.useState)(Boolean(_.query.sectionName)||o>1);(0,i.useEffect)((()=>{const e=function(){P(!0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const N="SECTION"===l.type||"CITY"===l.type?(0,j.Kl)({sectionIds:"SECTION"===l.type?l.sectionIds:void 0,options:{enabled:x},startPageZeroIndexed:o?o-1:0,..."CITY"===l.type&&{cityTypes:l.cityTypes,postType:l.postType}}):(0,j.hv)(l.contributorSlug,{enabled:x},o?o-1:0),{data:M,fetchNextPage:E,isFetchingNextPage:R,hasNextPage:T}=(0,r.N)(N),Z=(0,i.useCallback)((()=>{var e;E();(null==_||null===(e=_.query)||void 0===e?void 0:e.page)&&(v?_.push({query:{..._.query,page:o+1}},void 0,{shallow:!0}):_.replace({query:{..._.query,page:o+1}})),f("More Results Requested",null,{cmpName:k,cmpType:"Post Feed"})}),[E,_.pathname,f,o]),S=(0,i.useMemo)((()=>{var e;const t=null==M||null===(e=M.pages)||void 0===e?void 0:e.reduce((0,j.js)("items"));return t&&"items"in t?{...t,items:t.items?t.items.reduce(((e,t)=>t?[...e,(0,w.J8)(t)]:e),[]):[],hits:{hits:[],total:{value:0}}}:{...t,items:[],hits:{hits:[],total:{value:0}}}}),[M]),k=(0,i.useMemo)((()=>{switch(_.pathname){case y.jN.SECTION:return _.asPath.includes("guides")?"All Guides":_.asPath.includes("reviews")&&m?"All Reviews":"".concat(p," Reviews");case y.jN.SUBSECTION:return(0,g.cE)(_.asPath)&&!m?u:"All Posts";default:return"All Posts"}}),[_.pathname,_.asPath]);return(null==S||null===(t=S.items)||void 0===t?void 0:t.length)?(0,a.jsx)(b,{variant:s,data:S,className:c,fetchMore:Z,isLoading:R,headText:k||u||"",isHeaderPageHeader:d,hasMore:T,isWithWrapper:h,cmpName:k||"",cmpType:"Post Feed",isPushShallow:v}):null}},52113:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return M}});var a=s(62272),i=s(14418),r=s(88911),n=s(90512),l=s(9008),o=s.n(l),c=s(11163),u=s(45363),d=s(65313),h=s(29844),m=s(89255),p=s(31224),v=s(34155),g=s(54111),y=s(49827),_=s(91647),f=s(10561),x=s(1526),P=s(6372),N=s(95738),b=s(36554),j=s(57054),w=s.n(j),C=s(36433);var M=!0;t.default=(0,P.Z)()((e=>{let{randomColor:t}=e;var s,l,P;const j=(0,c.useRouter)(),{slug:M}=j.query,E=(0,h.PJ)(j.asPath),R=(0,h.Uw)(j.query.page),{data:T,error:Z}=(0,f.eWY)({skip:!M,variables:{slug:M},notifyOnNetworkStatusChange:!0}),[S]=(null==T||null===(s=T.contributorCollection)||void 0===s?void 0:s.items)||[],k=(null==S?void 0:S.name)&&(0,h.yr)(null==S?void 0:S.name),O=(null==S?void 0:S.instagram)||(null==S?void 0:S.twitter)||(null==S?void 0:S.email);if(Z)return(0,a.jsx)(b.default,{statusCode:500});if(!S)return(0,a.jsx)(g.Z,{});const A=(0,x.Oe)(S,"avatar");var I;const q=null!==(I=A.alt)&&void 0!==I?I:S.name;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("link",{rel:"canonical",href:E}),(0,a.jsx)("script",{...(0,u.h6)((0,N.cX)(S))})]}),(0,a.jsx)(y.ZP,{pageHasPost:!1,post:void 0}),(0,a.jsx)(p.W2,{className:w().wrapper,children:(0,a.jsxs)("div",{className:w().infoContainer,children:[(0,a.jsxs)("div",{className:(0,n.Z)(w().imgContainer,{[w().emptyAvatarContainer]:!A.src}),children:[A.src?(0,a.jsx)(v.Z,{src:A.src,alt:q,height:360,width:480,priority:!0,transformations:{resize:{width:360},zoom:.7,gravity:"face"}}):(0,a.jsx)(m.Z,{name:S.name,className:w().emptyAvatar,hasPriority:!0}),(0,a.jsx)(d.K7,{className:w().logo,fill:_.DM.primary})]}),(0,a.jsxs)("div",{className:(0,n.Z)(w().info,{[w().infoWithBio]:!!(null==S||null===(l=S.biography)||void 0===l?void 0:l.length)}),style:{borderColor:t},children:[(0,a.jsx)(i.X,{as:"h1",variant:"h2",children:null==S?void 0:S.name}),(null==S?void 0:S.title)&&(0,a.jsx)(r.x,{color:"coolgray60",children:S.title}),O&&(0,a.jsxs)("div",{className:w().contacts,children:[(0,a.jsxs)("span",{children:["Contact ",k]}),(null==S?void 0:S.email)&&(0,a.jsx)("a",{"aria-label":"Email ".concat(k),className:w().iconCircle,style:{background:t},href:"mailto:".concat(null==S?void 0:S.email),children:(0,a.jsx)(d._X,{})}),(null==S?void 0:S.twitter)&&(0,a.jsx)("a",{"aria-label":"View ".concat(k,"'s twitter"),className:w().iconCircle,style:{background:t},href:"https://twitter.com/".concat(null==S?void 0:S.twitter),target:"_blank",rel:"noreferrer",children:(0,a.jsx)(d.Zm,{})}),(null==S?void 0:S.instagram)&&(0,a.jsx)("a",{"aria-label":"View ".concat(k,"'s instagram"),className:w().iconCircle,style:{background:t},href:"https://instagram.com/".concat(null==S?void 0:S.instagram),target:"_blank",rel:"noreferrer",children:(0,a.jsx)(d.yu,{})})]}),(null==S?void 0:S.biography)&&(0,a.jsx)("p",{className:w().bio,children:S.biography})]})]})}),(0,a.jsx)(C.Z,{title:"All Posts",pageNumber:R,query:{type:"CONTRIBUTOR",contributorSlug:null==S||null===(P=S.slug)||void 0===P?void 0:P.name}})]})}))},16666:function(e,t,s){"use strict";s.d(t,{P:function(){return r}});var a=s(25030),i=s.n(a);const r=e=>{if(!e||!e.publishDate)return null;const t=i()(e.publishDate).format("YYYY-MM-DD");return["2022-01-13","2022-01-14"].includes(t)&&"PostReview"===e.__typename&&!e.rating?null:e.publishDate.split("T")[0]}},32277:function(e){e.exports={mostRecent:"styles_mostRecent___67UK",wrapper:"styles_wrapper__q6EPC",title:"styles_title__HdQu2",logoIcon:"styles_logoIcon__0uMt_",posts:"styles_posts__ovVmm",detailedStory:"styles_detailedStory__kesRJ",loadMoreButton:"styles_loadMoreButton___IN38"}},57054:function(e){e.exports={wrapper:"styles_wrapper__4E2ze",infoContainer:"styles_infoContainer__yEma_",imgContainer:"styles_imgContainer__KM_iZ",logo:"styles_logo__O8oMm",emptyAvatarContainer:"styles_emptyAvatarContainer__bw1jz",emptyAvatar:"styles_emptyAvatar__ARDZ3",info:"styles_info__Z67w6",contacts:"styles_contacts__m9f5b",bio:"styles_bio__DfCoh",infoWithBio:"styles_infoWithBio__92dXF",iconCircle:"styles_iconCircle__8CKEZ"}},29726:function(e,t,s){"use strict";s.d(t,{N:function(){return l}});var a=s(72536),i=s(54948),r=class extends a.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,i.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,i.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:s}=e,a=super.createResult(e,t),{isFetching:r,isRefetching:n,isError:l,isRefetchError:o}=a,c=s.fetchMeta?.fetchMore?.direction,u=l&&"forward"===c,d=r&&"forward"===c,h=l&&"backward"===c,m=r&&"backward"===c;return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,i.Qy)(t,s.data),hasPreviousPage:(0,i.ZF)(t,s.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:o&&!u&&!h,isRefetching:n&&!d&&!m}}},n=s(20364);function l(e,t){return(0,n.r)(e,r,t)}}},function(e){e.O(0,[2888,9774,179],(function(){return t=8076,e(e.s=t);var t}));var t=e.O();_N_E=t}]);