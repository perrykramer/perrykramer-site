"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4059],{74059:function(e,n,i){i.r(n),i.d(n,{default:function(){return Z}});var s=i(62272),a=i(84814),o=i(92752),t=i(31963),r=i(31948),l=i(44504),c=i(55819),d=i(73793),u=i(47018),m=i(5152),h=i.n(m),g=i(35484),p=i(47498),x=i(63905),b=i(91647),k=i(33562),f=i(14413),j=i(23100),v=i(204),y=i(14418),w=i(88911),C=i(35532),S=i(67320);var L={desktopHeading:{display:{base:"none",md:"block"}},mobileHeading:{display:{md:"none"},mb:4}},F=i(30923);var P=e=>{let{onClickBack:n,onClickLogin:i,variant:o}=e;const{user:t}=(0,f.aF)(),{modal:r}=t,{flow:l}=null!=r?r:"",c=(0,F.Z)(),d="modal"===o,u=r.existingEmail||"";return(0,a.useEffect)((()=>{c("Modal Viewed",null,{modalName:"Reset Password",eventLocation:l})})),(0,s.jsxs)(j.xu,{as:"form",justifyContent:"center",children:[(0,s.jsx)(v.k,{align:"center",position:d?"absolute":"unset",top:d?6:0,mb:d?0:10,children:(0,s.jsx)(C.Z,{style:{marginLeft:-12},href:"/login","aria-label":"Go back to log in",variant:"floating",padding:"6px",mr:2,onClick:e=>{n&&(e.preventDefault(),n())},children:(0,s.jsx)(S.wy,{as:"div",fontSize:"1.5em",fill:"gray100"})})}),(0,s.jsx)(y.X,{as:"h2",variant:"h2",sx:d?L.desktopHeading:void 0,style:{marginTop:16,marginBottom:-8},children:"Reset password"}),(0,s.jsxs)(w.x,{mt:{md:6},mb:4,children:["For security purposes, you’ll need to reset your password. ",(0,s.jsx)("br",{})," ",(0,s.jsx)("br",{}),"We’ve sent an email to ",(0,s.jsx)("b",{children:u}),". Please check your inbox for the link to finish resetting your password."]}),(0,s.jsx)(C.Z,{href:"/login",w:"100%",mt:10,onClick:e=>{i&&(e.preventDefault(),null==i||i())},children:"Done"})]})},B=i(93701),E=i(29222);var H={Heading:{mb:4,fontSize:36},linkButton:{mt:8},container:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}};var N=e=>{let{onClickLogin:n,onClickSignUp:i}=e;const{user:a,setSignUpStep:o}=(0,f.aF)(),{modal:t}=a,{screen:r}=null!=t?t:"",l=(0,k.Z)(b.RJ),c="one-tap-error-generic"===r;return(0,s.jsxs)(j.xu,{as:"form",sx:H.container,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(y.X,{as:"h2",variant:"h2",sx:H.Heading,children:c?(0,s.jsxs)(s.Fragment,{children:["Let’s try ",(0,s.jsx)(B.m.span,{color:"primary",children:"another way"}),"."]}):(0,s.jsxs)(s.Fragment,{children:["Welcome ",(0,s.jsx)(B.m.span,{color:"primary",children:"back"}),"!"]})}),(0,s.jsx)(w.x,{children:c?"Sorry, something went wrong. Please continue with sign up or login below.":"We found an existing account with the same email address. Please continue with login below."})]}),(0,s.jsx)(E.z,{w:"100%",sx:H.linkButton,onClick:e=>{e.preventDefault(),c?(i(),o("signup_options")):n()},children:l||c?"CONTINUE":"LOG IN"})]})};const D=h()((async()=>i.e(6900).then(i.bind(i,56900))),{loadableGenerated:{webpack:()=>[56900]}}),G=h()((async()=>i.e(6900).then(i.bind(i,56900)).then((e=>e.ValuePropsFooter))),{loadableGenerated:{webpack:()=>[56900]}}),O=h()((async()=>i.e(5411).then(i.bind(i,55411))),{loadableGenerated:{webpack:()=>[55411]}});var Z=()=>{var e;const{user:n,closeModal:i,setModalScreen:m}=(0,f.aF)(),{modal:h,chaseLinkingStatus:j}=n,v=null===(e=n.modal)||void 0===e?void 0:e.signUpStep,{isOpen:y=!1,screen:w,flow:C}=h,[S,L]=(0,a.useState)(!1),F=!("sign-up"!==w&&"sign-up-chase"!==w||"signup_options"!==v||S||("Braze Chase Newsletter Subscribe"===C||"Braze Newsletter Subscribe"===C||"Dynamic Widget Subscribe"===C||"Dynamic Widget Signup"===C||"Section Front Ad"===C||"Main Navigation"===C||"Main Navigation - Chase Promo"===C||"Gated Content"===C||"Onetap Error"===C)),B=(0,k.Z)(b.RJ);(0,a.useEffect)((()=>{L(!1)}),[y]);const E=()=>m("login"),H=()=>i(),Z=()=>L(!0),z="success"===v?6:8;return"chase-linking"===v?(0,s.jsx)(O,{isOpen:"linking"===j}):(0,s.jsxs)(o.u_,{isOpen:y&&"chase-successful-linking"!==w,autoFocus:!1,closeOnOverlayClick:!1,motionPreset:"slideInBottom",onClose:H,scrollBehavior:"inside",children:[(0,s.jsx)(t.Z,{}),(0,s.jsxs)(r.h,{my:{base:0,md:"3.75rem"},height:{base:"100%",md:"unset"},minHeight:{base:"100%",md:"unset"},overflowY:{base:"scroll",md:"unset"},overflowX:"hidden",borderRadius:{base:0,md:"md"},maxWidth:{base:"unset",md:"md"},containerProps:{width:"100%"},children:[(0,s.jsx)(l.x,{h:16,flexShrink:0,backgroundColor:"success"===v&&"Gated Content"!==C?"primary":"white",children:(0,s.jsx)(c.o,{width:6,height:6,top:6,right:6,color:"success"===v&&"Gated Content"!==C?"white":"gray100",zIndex:1})}),("Gated Content"===C||"Section Front Ad"===C||"Main Navigation - Chase Promo"===C)&&"forgot-password"!==w&&(0,s.jsx)("img",{width:245,height:35,style:{alignSelf:"center",marginTop:20,marginBottom:10},alt:"chase-exclusive",src:"/assets/chaseLinkingBanner/infatuation-chase.svg"}),(0,s.jsxs)(d.f,{pb:F?0:z,pt:"success"===v?0:8,px:"success"===v?0:6,children:[("sign-up"===w||"sign-up-chase"===w)&&(F?(0,s.jsx)(D,{onClickSignUp:Z,onClickLogin:E}):(0,s.jsx)(x.default,{onClose:H,onClickLogin:E,variant:"modal"})),"login"===w&&(0,s.jsx)(p.default,{variant:"modal",onAuthed:H,onClickForgotPassword:()=>{m("forgot-password")}}),"forgot-password"===w&&(0,s.jsx)(g.default,{onClickBack:E,onClickLogin:E,variant:"modal"}),"reset-password"===w&&(0,s.jsx)(P,{onClickBack:E,onClickLogin:E,variant:"modal"}),("one-tap-error"===w||"one-tap-error-generic"===w)&&(0,s.jsx)(N,{onClickLogin:E,onClickSignUp:()=>m("sign-up")})]}),F&&!B&&(0,s.jsx)(u.m,{pb:10,pt:6,children:(0,s.jsx)(G,{onClickSignUp:Z,onClickLogin:E})})]})]})}},35484:function(e,n,i){i.r(n),i.d(n,{default:function(){return w}});var s=i(62272),a=i(84814),o=i(63119),t=i(23100),r=i(204),l=i(14418),c=i(93701),d=i(88911),u=i(29222),m=i(37469),h=i(35532),g=i(67320),p=i(68295),x=i(30923),b=i(89066);var k={desktopHeading:{display:{base:"none",md:"block"}},mobileHeading:{display:{md:"none"},mb:4}},f=i(14413),j=i(91647),v=i(1568);const y=o.object().shape({email:o.string().matches(j.bF,j.T2).required("Please enter your email")});var w=e=>{let{onClickBack:n,onClickLogin:i,variant:o}=e;const[j,w]=(0,a.useState)(1),{user:C,setUserLoading:S}=(0,f.aF)();var L;const{flow:F}=null!==(L=C.modal)&&void 0!==L?L:"",P=(0,x.Z)(),B="modal"===o;(0,a.useEffect)((()=>{P("Modal Viewed",null,{modalName:1===j?"Forgot Password Find Account":"Forgot Password Link Sent Confirmation",eventLocation:F})}),[j]);const{handleAuthError:E}=(0,b.ZP)(b.Vo.ForgotPassword),H=(0,m.TA)({initialValues:{email:""},validationSchema:y,validateOnBlur:!1,validateOnChange:!1,onSubmit:async(e,n)=>{S(!0);const i=await(0,v.f8)(e.email);if(!i.success){const{error:e}=i;return E(e),H.setFieldError("email",(0,v.T3)(e.errorCode)),void n.setSubmitting(!1)}n.setSubmitting(!1),S(!1),w(2)}}),N=(0,s.jsxs)(t.xu,{children:[(0,s.jsx)(r.k,{align:"center",position:B?"absolute":"unset",top:B?6:0,h:B?8:"auto",mb:B?0:4,children:(0,s.jsx)(l.X,{as:"h3",variant:"h3",color:"primary",sx:B?k.desktopHeading:void 0,children:"Link sent to"})}),B&&(0,s.jsxs)(l.X,{as:"h2",sx:k.mobileHeading,children:["Link ",(0,s.jsx)(c.m.span,{color:"primary",children:"sent"})," to:"]}),(0,s.jsx)(d.x,{py:"2",variant:"bold",children:H.values.email}),(0,s.jsx)("hr",{}),(0,s.jsx)(d.x,{marginTop:4,children:"Please check your inbox for the link to finish resetting your password."}),(0,s.jsx)(h.Z,{href:"/login",w:"100%",mt:10,onClick:e=>{i&&(e.preventDefault(),null==i||i())},children:"Done"})]});return(0,s.jsxs)(s.Fragment,{children:[1===j&&(0,s.jsxs)(t.xu,{as:"form",justifyContent:"center",onSubmit:H.handleSubmit,children:[(0,s.jsxs)(r.k,{align:"center",position:B?"absolute":"unset",top:B?6:0,mb:B?0:10,children:[(0,s.jsx)(h.Z,{href:"/login","aria-label":"Go back to log in",variant:"floating",px:0,py:"6px",mr:2,onClick:e=>{n&&(e.preventDefault(),n())},children:(0,s.jsx)(g.Xd,{boxSize:6,fill:"gray100"})}),(0,s.jsxs)(l.X,{as:"h3",variant:"h3",sx:B?k.desktopHeading:void 0,children:["Let's find your ",(0,s.jsx)(c.m.span,{color:"primary",children:"account"}),"."]})]}),B&&(0,s.jsxs)(l.X,{as:"h2",variant:"h2",sx:k.mobileHeading,children:["Let's find your ",(0,s.jsx)(c.m.span,{color:"primary",children:"account"}),"."]}),(0,s.jsx)(d.x,{mt:{md:6},mb:4,children:"Enter the email associated with your account, and we will email you a link to reset your password."}),(0,s.jsx)(p.Wi,{name:"email",value:H.values.email,placeholder:"Email",onChange:async e=>(async e=>{H.setFieldError("email",void 0),await H.setFieldValue("email",e.target.value)})(e),errorMessage:H.errors.email}),(0,s.jsx)(u.z,{type:"submit",variant:"primary",w:"100%",mt:{sm:H.errors.email?12:10,md:H.errors.email?10:8},isDisabled:!(H.dirty&&H.isValid&&!H.isSubmitting),children:"Continue"})]}),2===j&&N]})}}}]);